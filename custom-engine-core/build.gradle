apply plugin: 'calypso-java-project'

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

jar {
  manifest {
    attributes(
      'JAR_COMPILATION_DATE': System.getenv('COMPILATION_DATE'),
      'JAR_GIT_BRANCH_NAME': System.getenv('GIT_BRANCH'),
      'JAR_RELEASE_NAME': System.getenv('RELEASE'),
      'JAR_SETTINGS_GRADLE': System.getenv('PROJECT')
    )
  }
}

dependencies {
	compile project(':custom-shared-lib-core')
	compile fileTree(dir: 'src-core/calypso/distributed-jars', include: '**/*.jar')
	includeInDistribution fileTree(dir: 'src-core/calypso/distributed-jars', include: '**/*.jar')
	provided project(":engineserver")
	compile fileTree(dir: '../../../client/lib', exclude: 'custom-*.jar', include: '*.jar')
}

sourceSets {
	main {
		java {
			srcDirs = ['src-core/main/java','src-optimizador/main/java','src-boston/main/java']
		}

		resources {
            srcDirs= ['src-core/main/resources','src-optimizador/main/resources']
        }
	}
}

ext.deployment="engineserver"
